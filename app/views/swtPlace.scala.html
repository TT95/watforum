@(place: SWTPlace, gplace: SWTGooglePlace)
@import helper._

@main(gplace.name) {

    <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/place.css")">
    <link rel="stylesheet" type="text/css" href="@routes.Assets.at("fa/css/font-awesome.min.css")">

    @*google maps*@
    <script>
            function initMap() {
                var map = new google.maps.Map(document.getElementById('googleMap'), {
                    center: {lat: @gplace.lat, lng: @gplace.lng},
                    zoom: 15
                });

                var infowindow = new google.maps.InfoWindow();
                var service = new google.maps.places.PlacesService(map);

                service.getDetails({
                    placeId: '@place.googleId'
                }, function (place, status) {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                        var marker = new google.maps.Marker({
                            map: map,
                            position: place.geometry.location
                        });
                        google.maps.event.addListener(marker, 'click', function () {
                            infowindow.setContent('<div><strong>' + place.name + '</strong><br>' +
                                    'Place ID: ' + place.place_id + '<br>' +
                                    place.formatted_address + '</div>');
                            infowindow.open(map, this);
                        });
                    }
                });
            }
    </script>
    <script src="@routes.Assets.at("javascripts/stars.js")" type="text/javascript"></script>


    <div class="window">
        <div class="row">
            <div class="col-md-6">
                <h2>@gplace.name</h2>
                <dl class="dl-horizontal">
                    @if(gplace.address != null) {
                        <dt>Address</dt>
                        <dd>@gplace.address</dd>
                    }
                    @if(gplace.weekdayText != null) {
                        <dt>Week day</dt>
                        <dd>@gplace.weekdayText</dd>
                    }
                    @if(gplace.phoneNumber != null) {
                        <dt>Phone</dt>
                        <dd>@gplace.phoneNumber</dd>
                    }
                    @if(gplace.website != null) {
                        <dt>Website</dt>
                        <dd><a href="@gplace.website">@gplace.website</a> </dd>
                    }
                    @if(gplace.googleMaps != null) {
                        <dt>Google maps</dt>
                        <dd><a href="@gplace.googleMaps">link</a></dd>
                    }
                </dl>
            </div>
            <div class="col-md-5 col-md-offset-1">
                <div id="googleMap"></div>
            </div>
        </div>


        <div class="row">
            <form action="@routes.SWTRatingController.rate()" method="post">
                <div class="form-group">
                    <label for="starsRating">Rating:</label>
                    <div id="starsRating"></div>
                    <input type="hidden" name="rating" id="rating">
                </div>
                <script src="@routes.Assets.at("javascripts/starRating.js")" type="text/javascript"></script>
                <script>
                        // target element
                        var el = document.querySelector('#starsRating');
                        // current rating, or initial rating
                        var currentRating = 0;
                        // max rating, i.e. number of stars you want
                        var maxRating = 5;
                        // callback to run after setting the rating
                        var callback = function (rating) {
                            document.getElementById("rating").value = rating;
                        };
                        // rating instance
                        var myRating = rating(el, currentRating, maxRating, callback);
                </script>

                <div class="form-group">
                    <label for="position">Position:</label>
                    <input type="text" class="form-control" name="position" id="position">
                </div>

                <div class="form-group">
                    <label for="comment">Comment:</label>
                    <input type="text" class="form-control" name="comment" id="comment">
                </div>

                <div class="form-group">
                    <label for="workload">Workload:</label>
                    <div class="input-group spinner spinDollars">
                        <span class="input-group-addon left-addon">
                            <i class="fa fa-clock-o"></i>
                        </span>
                        <input type="text" class="form-control" name="workload" id="workload" value="30">
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="payment">Payment:</label>
                    <div class="input-group spinner spinHours">
                        <span class="input-group-addon left-addon">
                            <i class="fa fa-usd"></i>
                        </span>
                        <input type="text" class="form-control" name="payment" id="payment" value="10">
                        <div class="input-group-btn-vertical">
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-up"></i></button>
                            <button class="btn btn-default" type="button"><i class="fa fa-caret-down"></i></button>
                        </div>
                    </div>
                </div>
                <div class="checkbox">
                    <label><input type="checkbox" value="">Providing housing</label>
                </div>
                <div class="form-group">
                    <label for="swtYear">SWT Year:</label>
                    <select class="form-control" id="swtYear" name="swtYear">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                    </select>
                </div>
                <button>Rate</button>
            </form>
        </div>
    </div>


    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBOVsLLDx5MQmY4CUaD9-kt5Dqw5tPjJV4&libraries=places&callback=initMap">
    </script>
    <script src="@routes.Assets.at("javascripts/spinner.js")" type="text/javascript"></script>


}